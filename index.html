<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GNSS/IMU Dashboard (Projet EKF)</title>
    <style>
        body {
            font-family: 'Consolas', monospace;
            background-color: #0d0d0d;
            color: #00ff00; /* Vert N√©on */
            margin: 0;
            padding: 10px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            border: 2px solid #00ff00;
            padding: 15px;
            box-shadow: 0 0 20px #00ff00;
        }
        h1 {
            text-align: center;
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .stat-box, .control-box {
            background-color: #1a1a1a;
            border: 1px solid #00ff00;
            padding: 10px;
            border-radius: 5px;
        }
        .stat-box h2, .control-box h2 {
            margin-top: 0;
            font-size: 1.2em;
            color: #33ff33;
        }
        .value {
            font-size: 1.5em;
            font-weight: bold;
            color: #ffff00; /* Jaune pour les valeurs cl√©s */
        }
        .speed-display {
            grid-column: 1 / -1;
            text-align: center;
            background-color: #003300;
            padding: 20px;
            font-size: 3em;
            color: #ff00ff; /* Magenta pour la vitesse principale */
            border: 3px solid #ff00ff;
            box-shadow: 0 0 30px #ff00ff;
        }
        button, select {
            padding: 8px 12px;
            background-color: #00ff00;
            color: #0d0d0d;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            margin-top: 5px;
        }
        button:hover {
            background-color: #33ff33;
        }
        #emergency-stop.error {
            background-color: #ff0000;
            color: white;
            box-shadow: 0 0 10px #ff0000;
        }
        #map {
            height: 300px;
            width: 100%;
            margin-top: 15px;
            border: 1px solid #00ff00;
        }
    </style>
    </head>
<body>

    <div class="container">
        <h1>GNSS/IMU Dead Reckoning Dashboard</h1>
        
        <div class="speed-display">
            VITESSE ACTUELLE: <span id="speed-stable">0.0000 km/h (3D)</span>
            <div style="font-size: 0.5em; color: #00ff00;">
                <span id="speed-stable-ms">0.000 m/s (3D)</span> | Max: <span id="speed-max">0.0000 km/h</span>
            </div>
        </div>

        <div class="grid-container" style="margin-top: 20px;">
            
            <div class="stat-box">
                <h2>üõ∞Ô∏è GNSS / Position</h2>
                <p>Lat: <span id="latitude">N/A</span></p>
                <p>Lon: <span id="longitude">N/A</span></p>
                <p>Alt (GPS): <span id="altitude-gps">N/A</span></p>
                <p>Pr√©cision: <span id="gps-precision">N/A</span></p>
                <p>Distance: <span id="distance-total-km">0.000 km</span></p>
                <p>Tps Mouvement: <span id="time-moving">0.00 s</span></p>
            </div>

            <div class="stat-box">
                <h2>‚ö° IMU / Acc√©l√©ration</h2>
                <p>Accel (long): <span id="accel-long">0.000 m/s ¬≤</span></p>
                <p>Force G (long): <span id="force-g-long">0.00 G</span></p>
                <p>Force G (lat): <span id="force-g-lat">0.00 G</span></p>
                <p>Accel Brute (IMU): <span id="accel-imu-raw">0.000 m/s¬≤</span></p>
                <p>Accel Filtr√©e: <span id="accel-linear-corrected">0.000 m/s¬≤ (Filtr√©)</span></p>
                <p>Vitesse Vert: <span id="vertical-speed">0.00 m/s</span></p>
            </div>
            
            <div class="stat-box">
                <h2>üî≠ EKF / Navigation</h2>
                <p>Incertitude (P): <span id="kalman-uncert">0.00000 m¬≤</span></p>
                <p>Bruit Q: <span id="kalman-r-dyn">DR Mode (IMU)</span></p>
                <p>Cap (Hdg): <span id="current-heading">0.0 ¬∞</span></p>
                <p>Pitch/Roll: <span id="pitch-angle">0.0 ¬∞</span> / <span id="roll-angle">0.0 ¬∞</span></p>
                <p>Mode : <span id="mode-display">OVERWORLD</span> | Souterrain: <span id="underground-status">Non</span></p>
                <p>Gravit√© Loc: <span id="gravity-calculated">X:0.00, Y:0.00, Z:0.00</span></p>
            </div>
            
            <div class="stat-box">
                <h2>üöÄ Physique & Records</h2>
                <p>√ânergie Cin√©tique: <span id="kinetic-energy">0.00 J</span> (Masse: <input type="number" id="mass-input" value="70" style="width: 50px;"> kg)</p>
                <p>Puissance M√©c.: <span id="mechanical-power">0.00 W</span></p>
                <p>% Vitesse Son: <span id="perc-speed-sound">0.00%</span></p>
                <p>% Vitesse C: <span id="perc-speed-c">0.00e+00%</span></p>
                <p>Heure Solaire: <span id="solar-time">N/A</span></p>
                <p>UTC: <span id="clock-utc">N/A</span></p>
            </div>
            
            <div class="stat-box">
                <h2>‚òÅÔ∏è M√©t√©o & Environnement</h2>
                <p>Statut: <span id="weather-status">M√©t√©o N/A</span></p>
                <p>Temp√©rature: <span id="temp-air">N/A</span></p>
                <p>Pression: <span id="pressure-baro">N/A</span></p>
                <p>Vent: <span id="wind-speed">N/A</span> @ <span id="wind-dir">N/A</span></p>
                <label for="environment-select">Env. GPS:</label>
                <select id="environment-select">
                    <option value="OPEN">Ouvert (Rue)</option>
                    <option value="FOREST">For√™t</option>
                    <option value="CONCRETE">B√©ton/Ville</option>
                    <option value="METAL">M√©tal/Tunnel</option>
                </select>
            </div>

            <div class="control-box">
                <h2>üïπÔ∏è Contr√¥les</h2>
                <button id="start-gnss">D√âMARRER GNSS/IMU</button>
                <button id="emergency-stop">STOP</button>
                <button id="reset-metrics">RESET M√©triques</button>
                <label for="nether-mode-toggle" style="display: block; margin-top: 10px;">
                    <input type="checkbox" id="nether-mode-toggle"> Mode Nether (1/8)
                </label>
            </div>
        </div>

        <div id="map"></div>
        
    </div>

    <script>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/suncalc@1.8.0/suncalc.min.js"></script>
    <script src="gnss-dashboard-full.js"></script>
    </script>

</body>
                                  </html>
