<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord GNSS et Physique Quantique</title>
    <link rel="stylesheet" href="style.css"> <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/suncalc@1.8.0/suncalc.min.js"></script>
    <style>
        /* Styles de base pour la lisibilit√© */
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f4f4f4; color: #333; }
        .dashboard-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .section { background-color: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .data-point { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #eee; }
        .data-point span:first-child { font-weight: bold; }
        #map-container { height: 300px; margin-top: 15px; border-radius: 4px; }
        .controls { margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        #celestial-display { position: relative; height: 50px; border: 1px solid #ccc; margin-top: 10px; border-radius: 5px; overflow: hidden; }
        #sun-element, #moon-element { position: absolute; width: 20px; height: 20px; border-radius: 50%; top: 50%; left: 0; transform-origin: 100% 50%; transition: transform 0.5s linear; }
        #sun-element { background: orange; }
        #moon-element { background: grey; }
    </style>
</head>
<body>

    <h1>üöÄ Tableau de Bord GNSS & EKF</h1>
    <div class="controls">
        <button id="toggle-gps-btn">‚ñ∂Ô∏è MARCHE GPS</button>
        <button id="emergency-stop-btn" style="background-color: #dc3545; color: white;">üõë Arr√™t d'urgence: INACTIF üü¢</button>
        <button id="toggle-mode-btn">üåô Mode Sombre</button>
        <button id="nether-toggle-btn">Toggle Nether</button>
    </div>

    <div class="controls">
        <label for="freq-select">Fr√©quence GPS:</label>
        <select id="freq-select">
            <option value="HIGH_FREQ">Haute Fr√©quence (HP)</option>
            <option value="NORMAL">Normal (Standard)</option>
        </select>
        <label for="environment-select">Facteur Kalman Environnement:</label>
        <select id="environment-select">
            <option value="OPEN">Ouvert (Normal)</option>
            <option value="FOREST">For√™t (x1.5)</option>
            <option value="METAL">M√©tal/Urbain (x2.5)</option>
            <option value="CONCRETE">Grotte/Tunnel (x3.0)</option>
        </select>
        <label for="mass-input">Masse (kg):</label>
        <input type="number" id="mass-input" value="70" min="1">
    </div>

    <div class="dashboard-container">
        
        <div class="section">
            <h2>üåç Temps & Position</h2>
            <div class="data-point"><span>Heure Locale Corrig√©e</span><span id="local-time">N/A</span></div>
            <div class="data-point"><span>Date</span><span id="date-display">N/A</span></div>
            <div class="data-point"><span>Horloge Minecraft</span><span id="clock-status">N/A</span></div>
            <div class="data-point"><span>Temps √©coul√© (Total)</span><span id="time-elapsed">0.00 s</span></div>
            <div class="data-point"><span>Temps de Mouvement</span><span id="time-moving">0.00 s</span></div>
            <div class="data-point"><span>Latitude</span><span id="latitude">0.000000</span></div>
            <div class="data-point"><span>Longitude</span><span id="longitude">0.000000</span></div>
            <div class="data-point"><span>Altitude (GPS)</span><span id="altitude-gps">N/A</span></div>
            <div class="data-point"><span>Statut Sous-sol (&lt; -50m)</span><span id="underground-status">Non</span></div>
            <div class="data-point"><span>Mode Nether</span><span id="mode-nether">D√âSACTIV√â (1:1)</span></div>
            <div id="map-container"></div>
        </div>

        <div class="section">
            <h2>üî¨ Dynamique EKF & Physique</h2>
            <div class="data-point"><span>Vitesse Stable (km/h)</span><span id="speed-stable">0.0000 km/h</span></div>
            <div class="data-point"><span>Vitesse Max (km/h)</span><span id="speed-max">0.0000 km/h</span></div>
            <div class="data-point"><span>Vitesse Stable (m/s)</span><span id="speed-stable-ms">0.000 m/s</span></div>
            <div class="data-point"><span>Accel. Longitudinale (EKF)</span><span id="accel-long">0.000 m/s ¬≤</span></div>
            <div class="data-point"><span>Accel. Lin√©aire Brute (IMU)</span><span id="accel-imu-raw">0.000 m/s ¬≤</span></div>
            <div class="data-point"><span>Accel. Verticale Corrig√©e (IMU)</span><span id="accel-vertical-imu">0.000 m/s ¬≤</span></div>
            <div class="data-point"><span>Force G Horizontale</span><span id="force-g-long">0.00 G | Max: 0.00 G</span></div>
            <div class="data-point"><span>Force G Verticale (Grav. Incl.)</span><span id="force-g-vertical">1.00 G</span></div>
            <div class="data-point"><span>√ânergie Cin√©tique</span><span id="kinetic-energy">0.00 J</span></div>
            <div class="data-point"><span>Puissance M√©canique</span><span id="mechanical-power">0.00 W</span></div>
            <div class="data-point"><span>Incertitude Kalman (P)</span><span id="kalman-uncert">0.00000 m¬≤</span></div>
            <div class="data-point"><span>Bruit Mesure Kalman (R)</span><span id="kalman-r-dyn">0.00000 m¬≤</span></div>
            <div class="controls">
                <button id="reset-max-btn">R√©init. Max G/Vitesse</button>
            </div>
        </div>

        <div class="section">
            <h2>üåå Cosmique & M√©t√©o</h2>
            <div class="data-point"><span>Distance Totale (km)</span><span id="distance-total-km">0.000 km | 0.00 m</span></div>
            <div class="data-point"><span>Dist. en Secondes-Lumi√®re</span><span id="distance-light-s">0.00e+00 s lumi√®re</span></div>
            <div class="data-point"><span>Dist. Cosmique (UA/al)</span><span id="distance-cosmic">0.00e+00 UA | 0.00e+00 al</span></div>
            <div class="data-point"><span>Vitesse Stable (% de C)</span><span id="perc-speed-c">0.00e-09 %</span></div>
            <div class="data-point"><span>Vitesse Stable (% du Son)</span><span id="perc-speed-sound">0.00 %</span></div>
            <div class="data-point"><span>Gravit√© Locale ($g_0$)</span><span id="gravity-local">9.80665 m/s¬≤</span></div>
            <div class="data-point"><span>Temp. Air</span><span id="temp-air">N/A</span></div>
            <div class="data-point"><span>Pression</span><span id="pressure">N/A</span></div>
            <div class="data-point"><span>Vitesse Vent</span><span id="wind-speed-ms">N/A</span></div>
            <div class="data-point"><span>Heure Solaire Vraie (TST)</span><span id="tst">00:00:00</span></div>
            <div class="data-point"><span>√âl√©vation Solaire</span><span id="sun-elevation">0.00 ¬∞</span></div>
            <div class="data-point"><span>Phase Lunaire</span><span id="moon-phase-display">0.0%</span></div>
            <div id="celestial-display">
                <div id="sun-element"></div>
                <div id="moon-element"></div>
            </div>
            <div class="controls">
                <button id="reset-dist-btn">R√©init. Distance</button>
            </div>
        </div>
    </div>
    
    <script src="gnss-dashboard-full.js"></script>
</body>
                                                                                                                 </html>
