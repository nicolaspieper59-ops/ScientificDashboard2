<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EKF de R√©alit√© Adaptatif (6-DoF & Fiction)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 20px; background-color: #f4f4f4; color: #333; }
        .dashboard { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        h1, h2 { color: #0056b3; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        .control-input-full { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        select, button { padding: 10px; width: 100%; border: 1px solid #ccc; border-radius: 4px; font-size: 16px; margin-top: 5px; }
        .data-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 15px; }
        .data-item { padding: 8px; border: 1px solid #ddd; border-radius: 4px; background-color: #fafafa; }
        .value { font-size: 1.2em; font-weight: bold; color: #d9534f; }
        #gps-status-dr { font-style: italic; color: #5bc0de; font-weight: bold; margin-top: 10px; }
        #nhc-status { font-style: italic; color: #333; margin-top: 10px; }
        #map { height: 300px; background-color: #ccc; margin-top: 20px; border-radius: 4px; }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.3.0/math.min.js"></script>
</head>
<body>
    <div class="dashboard">
        <h1>üõ∞Ô∏è Filtre EKF de R√©alit√© Adaptatif</h1>
        
        <div class="control-input-full">
            <label for="transport-mode-select">Mode de Navigation</label>
            <select id="transport-mode-select">
                <option value="CAR_PEDESTRIAN">1. R√©aliste (Voiture/Pi√©ton - 1D Simplifi√©)</option>
                <option value="INS_6DOF_REALISTE">2. INS 6-DoF (Conceptuel/Math√©matiquement Complet)</option>
                <option disabled>--- Modes Fiction/Extr√™mes ---</option>
                <option value="AIRCRAFT">3. Avion (C√¥t√© Couloir/NHC)</option>
                <option value="TRAIN_METRO">4. Train/M√©tro (Contrainte Rail)</option>
                <option value="CARTOON_PHYSICS">5. Physique de Cartoon (Looney Tunes)</option>
                <option value="SPACETIME_DRIVE">6. Voyage Temporel / OVNI (Saut T√©l√©p.)</option>
                <option value="MAGICAL_REALITY">7. Magie/Paranormal (Volont√© Externe)</option>
                <option value="HYPERDIMENSIONAL_DRIVE">8. Hyper-Espace / Vitesse Lumi√®re+</option>
            </select>
        </div>
        
        <button id="toggle-gps-btn">D√©marrer la Fusion (GPS/IMU)</button>
        <p id="gps-status-dr">Statut: Initialisation...</p>
        <p id="nhc-status">Contraintes de Mouvement: Aucune</p>

        <h2>Donn√©es EKF</h2>
        <div class="data-grid">
            <div class="data-item">Vitesse EKF (m/s): <span id="speed-stable" class="value">0.000</span></div>
            <div class="data-item">Vitesse Finale (km/h): <span id="current-speed" class="value">0.00</span></div>
            <div class="data-item">Altitude EKF (m): <span id="altitude-kalman" class="value">N/A</span></div>
            <div class="data-item">Incertitude Vitesse (P): <span id="kalman-uncert" class="value">1000.00</span></div>
            <div class="data-item">Bruit Q (Processus): <span id="kalman-q-noise" class="value">0.100</span></div>
            <div class="data-item">Facteur R (Mesure): <span id="kalman-r-dyn" class="value">N/A</span></div>
        </div>
        
        <div id="map"></div>
    </div>
    
    <script src="gnss-dashboard-full.js"></script> 
</body>
</html>
