<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tableau Scientifique ‚Ä¢ GNSS SpaceTime ‚Ä¢ UKF-21 ‚Ä¢ Fusion Ultime</title>
  <style>
    :root{
      --bg:#041021; --card:#082033; --muted:#9fb6c9; --accent:#58c1ff;
      --glass: rgba(255,255,255,0.03); --radius:10px; --mono: "Courier New", monospace;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#02101a 0%,#061226 75%);color:#e6f7ff;font-family:Inter,Arial,Helvetica,sans-serif}
    .wrap{max-width:1400px;margin:12px auto;padding:12px;display:grid;grid-template-columns:340px 1fr 360px;gap:12px}
    .card{background:var(--glass);border-radius:var(--radius);padding:12px;box-shadow:0 8px 24px rgba(0,0,0,0.6)}
    h1{text-align:center;color:var(--accent);margin:8px 0 12px}
    h2{margin:6px 0;color:#9ed8ff;font-size:1rem}
    .dp{display:flex;justify-content:space-between;padding:8px;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:0.92rem}
    .controls-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:8px}
    .btn{background:var(--accent);border:none;padding:8px;border-radius:8px;font-weight:700;color:#02243a;cursor:pointer}
    .small{font-size:0.82rem;color:var(--muted)}
    input[type=number], select, input[type=text]{background:transparent;border:1px solid rgba(255,255,255,0.06);border-radius:6px;padding:6px;color:inherit}
    #map{height:320px;border-radius:8px;background:linear-gradient(90deg,#02141d,#052433);display:flex;align-items:center;justify-content:center;color:var(--muted)}
    canvas{background:transparent;border-radius:6px}
    footer{max-width:1400px;margin:12px auto;padding:12px;color:var(--muted);font-size:0.82rem;text-align:center}
    .status-ok{color:#7CFC00;font-weight:700}
    .status-bad{color:#FF6B6B;font-weight:700}
    .field-pair{display:flex;justify-content:space-between;align-items:center;padding:6px 0}
    @media(max-width:1100px){.wrap{grid-template-columns:1fr}}
    .section-title{font-size:0.85rem;color:var(--muted);margin-top:8px}
    code{background:rgba(255,255,255,0.02);padding:2px 4px;border-radius:4px}
  </style>
</head>
<body>
  <h1>Tableau Scientifique ‚Ä¢ GNSS SpaceTime ‚Ä¢ UKF-21 ‚Ä¢ Fusion Ultime</h1>

  <div class="wrap">
    <!-- LEFT: Controls -->
    <div class="card" id="left-card">
      <h2>Contr√¥les & Syst√®me</h2>
      <div class="dp"><span>Heure Locale (NTP)</span><strong id="ntpTime">N/A</strong></div>
      <div class="dp"><span>Date & Heure (UTC/GMT)</span><strong id="utcTime">N/A</strong></div>
      <div class="dp"><span>Temps √©coul√© (Session)</span><strong id="elapsedTime">0.00 s</strong></div>
      <div class="dp"><span>Temps de Mouvement</span><strong id="motionTime">0.00 s</strong></div>

      <div class="controls-grid" style="margin-top:10px">
        <button id="btn-start-gps" class="btn">‚ñ∂Ô∏è MARCHE GPS</button>
        <button id="btn-urgent-stop" class="btn">üõë ARR√äT</button>
        <button id="btn-capture" class="btn">üì• Capturer</button>
        <button id="btn-reset-dist" class="btn">R√©init. Dist.</button>
        <button id="btn-reset-vmax" class="btn">R√©init. Vmax</button>
        <button id="btn-export" class="btn">Export CSV</button>
      </div>

      <h2 style="margin-top:12px">Param√®tres & Environnement</h2>
      <div class="dp"><span>Forcer Pr√©cision GPS (m)</span><input id="force-gps" type="number" value="0" /></div>
      <div class="dp"><span>Environnement</span>
        <select id="env-select">
          <option value="1">Normal (x1.0)</option>
          <option value="1.5">Dense (x1.5)</option>
          <option value="2">Extr√™me (x2.0)</option>
        </select>
      </div>
      <div class="dp"><span>Masse (kg)</span><input id="mass" type="number" step="0.001" value="70" /><strong id="mass-display">70.000 kg</strong></div>

      <h2 style="margin-top:12px">Capteurs</h2>
      <div class="dp"><span>IMU</span><strong id="imu-status">Inactif</strong></div>
      <div class="dp"><span>Acc X</span><strong id="acc-x">N/A</strong></div>
      <div class="dp"><span>Acc Y</span><strong id="acc-y">N/A</strong></div>
      <div class="dp"><span>Acc Z</span><strong id="acc-z">N/A</strong></div>
      <div class="dp"><span>Mag X</span><strong id="mag-x">N/A</strong></div>
      <div class="dp"><span>Mag Y</span><strong id="mag-y">N/A</strong></div>
      <div class="dp"><span>Mag Z</span><strong id="mag-z">N/A</strong></div>
      <div class="dp"><span>Lumi√®re (lux)</span><strong id="lux">N/A</strong></div>
      <div class="dp"><span>Son (dB)</span><strong id="db">N/A</strong></div>

      <h2 style="margin-top:12px">Mises √† jour & Cache</h2>
      <div class="dp"><span>Auto-update</span><strong id="update-status">En attente</strong></div>
      <div class="section-title">Fichiers locaux d√©tect√©s</div>
      <div class="small" id="local-files">‚Äî</div>
    </div>

    <!-- CENTER: Map / Charts / Astronomy -->
    <div class="card" id="center-card">
      <h2>Carte GNSS / Globe</h2>
      <div id="map">Chargement carte...</div>

      <h2 style="margin-top:12px">Graphiques</h2>
      <canvas id="chartTemp" height="100"></canvas>
      <canvas id="chartSpeed" height="100" style="margin-top:8px"></canvas>

      <h2 style="margin-top:12px">Astronomie & Horloges</h2>
      <div class="dp"><span>Soleil Alt/Az</span><strong id="sun-altaz">N/A</strong></div>
      <div class="dp"><span>Lune Phase / Illum.</span><strong id="moon-phase">N/A</strong></div>
      <div class="dp"><span>Equation du Temps</span><strong id="eot">N/A</strong></div>
      <div class="dp"><span>Temps Sid√©ral Local</span><strong id="lst">N/A</strong></div>
    </div>

    <!-- RIGHT: Science & Derived -->
    <div class="card" id="right-card">
      <h2>M√©t√©o & Atmosph√®re</h2>
      <div class="dp"><span>Temp (¬∞C)</span><strong id="temp">N/A</strong></div>
      <div class="dp"><span>RH (%)</span><strong id="rh">N/A</strong></div>
      <div class="dp"><span>Pression (hPa)</span><strong id="pressure">N/A</strong></div>
      <div class="dp"><span>Point de ros√©e (¬∞C)</span><strong id="dew">N/A</strong></div>
      <div class="dp"><span>Densit√© œÅ (kg/m¬≥)</span><strong id="rho">N/A</strong></div>
      <div class="dp"><span>Viscosit√© Œº (Pa¬∑s)</span><strong id="mu">N/A</strong></div>
      <div class="dp"><span>Vitesse du son (m/s)</span><strong id="c_sound">N/A</strong></div>

      <h2 style="margin-top:12px">Vitesse & √ânergie</h2>
      <div class="dp"><span>Vitesse brute</span><strong id="speed-raw">-- m/s</strong></div>
      <div class="dp"><span>Vitesse filtr√©e</span><strong id="speed-filtered">-- m/s</strong></div>
      <div class="dp"><span>Vitesse max (session)</span><strong id="speed-max">0.0 km/h</strong></div>
      <div class="dp"><span>Mach</span><strong id="mach">N/A</strong></div>
      <div class="dp"><span>Œ≥ (Lorentz)</span><strong id="lorentz">1.0000</strong></div>

      <h2 style="margin-top:12px">Position & Qualit√©</h2>
      <div class="dp"><span>Latitude</span><strong id="lat">N/A</strong></div>
      <div class="dp"><span>Longitude</span><strong id="lon">N/A</strong></div>
      <div class="dp"><span>Altitude</span><strong id="alt">N/A</strong></div>
      <div class="dp"><span>HDOP / VDOP</span><strong id="dops">N/A</strong></div>
      <div class="dp"><span>Fix</span><strong id="fix-type">N/A</strong></div>

      <h2 style="margin-top:12px">Forces & A√©rodynamique</h2>
      <div class="dp"><span>Pression dynamique q</span><strong id="qdyn">0.00 Pa</strong></div>
      <div class="dp"><span>Force de tra√Æn√©e</span><strong id="drag">0.00 N</strong></div>
      <div class="dp"><span>Puissance tra√Æn√©e</span><strong id="drag-kw">0.00 kW</strong></div>
      <div class="dp"><span>Reynolds</span><strong id="reynolds">N/A</strong></div>

      <h2 style="margin-top:12px">UKF / EKF</h2>
      <div class="dp"><span>Filtre utilis√©</span><strong id="filter-type">N/A</strong></div>
      <div class="dp"><span>Incertitude vitesse (œÉ)</span><strong id="p-vel">N/A</strong></div>
      <div class="dp"><span>Incertitude position (œÉ)</span><strong id="p-pos">N/A</strong></div>
    </div>
  </div>

  <footer>Version finale g√©n√©r√©e ‚Äî GNSS SpaceTime Dashboard ‚Ä¢ UKF-21 int√©gr√© ‚Ä¢ Offline + Auto-Update</footer>

  <!-- Chart.js CDN (si hors-ligne, t√©l√©charger le fichier et servir localement) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>

  <!-- 5 scripts JS (coup√©s artificiellement) -->
  <script src="gnss-dashbord-full.js"></script>
</body>
    </html>
          
